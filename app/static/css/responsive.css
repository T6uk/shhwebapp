/* app/static/css/responsive.css */
/* All responsive design rules */

/* Extra small devices (phones, less than 480px) */
@media (max-width: 479px) {
    .container {
        padding: var(--space-2);
    }

    .xs\:inline-block {
        display: inline-block;
    }

    .xs\:hidden {
        display: none;
    }

    .app-title {
        font-size: 1.25rem;
    }

    .toolbar-section {
        gap: var(--space-1);
    }

    .status-chip {
        font-size: 0.625rem;
        padding: 0.125rem var(--space-2);
        height: 1.5rem;
    }

    .compact-btn {
        padding: 0 var(--space-2);
        min-width: 2rem;
    }

    .compact-btn span {
        display: none;
    }

    /* Keep some critical button texts visible */
    #edit-mode-btn span,
    #apply-filters span,
    #clear-filters span {
        display: inline-block;
    }

    .filter-row {
        flex-wrap: wrap;
        gap: var(--space-2);
    }

    .filter-field,
    .filter-operator,
    .filter-value-container {
        flex: 1 1 100%;
        min-width: 0;
    }

    .compact-filter-remove-btn {
        position: absolute;
        right: var(--space-2);
        top: var(--space-2);
    }

    .quick-links-grid {
        grid-template-columns: 1fr;
    }
}

/* Small devices (phones, 480px to 639px) */
@media (min-width: 480px) and (max-width: 639px) {
    .sm\:inline-block {
        display: inline-block;
    }

    .sm\:hidden {
        display: none;
    }

    .sm\:px-3 {
        padding-left: var(--space-3);
        padding-right: var(--space-3);
    }

    .quick-links-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* Medium devices (tablets, 640px to 767px) */
@media (min-width: 640px) and (max-width: 767px) {
    #table-container {
        border-radius: var(--radius-sm);
    }

    .ag-theme-alpine {
        --ag-font-size: 0.7rem;
        --ag-row-height: 26px;
        --ag-header-height: 30px;
    }

    .app-bar {
        padding: var(--space-3) var(--space-4);
    }

    .toolbar {
        padding: var(--space-3);
    }

    .dropdown-menu {
        position: fixed;
        left: var(--space-2);
        right: var(--space-2);
        top: auto;
        width: auto;
        min-width: auto;
        max-height: 70vh;
        overflow-y: auto;
        border-radius: var(--radius-2xl) var(--radius-2xl) 0 0;
    }

    #user-dropdown-menu {
        right: var(--space-2);
        left: auto;
        width: auto;
        min-width: 12rem;
    }
}

/* Large devices (desktops, 768px to 1023px) */
@media (min-width: 768px) and (max-width: 1023px) {
    .ag-theme-alpine {
        --ag-font-size: 0.75rem;
        --ag-row-height: 28px;
        --ag-header-height: 32px;
    }

    .toolbar {
        flex-direction: column;
        align-items: stretch;
        gap: var(--space-2);
    }

    .toolbar-section {
        justify-content: space-between;
        flex-wrap: wrap;
        gap: var(--space-2);
    }

    .search-bar {
        max-width: none;
        width: 100%;
        margin-bottom: var(--space-2);
    }

    .app-bar {
        flex-direction: column;
        align-items: flex-start;
        gap: var(--space-2);
    }

    #koondaja-ag-grid,
    #tagastused-ag-grid {
        font-size: 0.75rem;
    }

    .distribution-options {
        grid-template-columns: 1fr;
    }

    .financial-grid {
        grid-template-columns: 1fr;
        gap: var(--space-2);
    }

    .additional-info-grid {
        grid-template-columns: 1fr;
    }

    #koondaja-toolbar button span {
        display: none;
    }

    #koondaja-toolbar button {
        min-width: 40px;
        justify-content: center;
    }
}

/* Extra large devices (large desktops, 1024px to 1279px) */
@media (min-width: 1024px) and (max-width: 1279px) {
    .lg\:col-span-2 {
        grid-column: span 2 / span 2;
    }

    .lg\:grid-cols-3 {
        grid-template-columns: repeat(3, minmax(0, 1fr));
    }
}

/* 2XL devices (1280px and up) */
@media (min-width: 1280px) {
    .xl\:col-span-3 {
        grid-column: span 3 / span 3;
    }

    .xl\:col-span-4 {
        grid-column: span 4 / span 4;
    }

    .xl\:col-span-5 {
        grid-column: span 5 / span 5;
    }

    .xl\:grid-cols-12 {
        grid-template-columns: repeat(12, minmax(0, 1fr));
    }
}

/* Height-based media queries */
@media (max-height: 600px) {
    .container {
        padding-top: var(--space-2);
        padding-bottom: var(--space-2);
    }

    #compact-header {
        height: 36px;
    }

    .ag-theme-alpine {
        --ag-header-height: 32px;
        --ag-row-height: 26px;
    }
}

/* Print styles */
@media print {
    body {
        background: white;
        color: black;
    }

    .no-print,
    #compact-header,
    #toolbar-container,
    .dropdown,
    .btn,
    .compact-btn,
    #filter-panel,
    #edit-history-panel,
    [id$="-modal"] {
        display: none !important;
    }

    #table-container {
        box-shadow: none;
        border: 1px solid #000;
        margin: 0;
    }

    .ag-theme-alpine {
        --ag-font-size: 10pt;
        --ag-header-font-weight: bold;
    }
}

/* Preference media queries */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

@media (prefers-contrast: high) {
    :root {
        --primary-color: #0066cc;
        --primary-dark: #004499;
        --danger: #cc0000;
        --success: #008800;
    }
}

/* Orientation specific */
@media (orientation: landscape) and (max-height: 500px) {
    .container {
        padding: var(--space-1);
    }

    #compact-header {
        display: none;
    }

    #toolbar-container {
        padding: var(--space-2);
    }
}

/* High resolution displays */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    .app-logo,
    .btn,
    .compact-btn {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }
}

/* Touch device optimizations */
@media (hover: none) and (pointer: coarse) {
    .btn,
    .compact-btn,
    .dropdown-item,
    .quick-link {
        min-height: 44px;
        min-width: 44px;
    }

    .compact-checkbox-item {
        min-height: 36px;
    }

    input[type="checkbox"],
    input[type="radio"] {
        min-width: 20px;
        min-height: 20px;
    }
}

/* Responsive utilities */
@media (max-width: 639px) {
    .hidden-mobile {
        display: none !important;
    }
}

@media (min-width: 640px) {
    .hidden-desktop {
        display: none !important;
    }
}

/* Grid system responsive */
@media (min-width: 640px) {
    .sm\:grid-cols-2 {
        grid-template-columns: repeat(2, minmax(0, 1fr));
    }
}

@media (min-width: 768px) {
    .md\:grid-cols-2 {
        grid-template-columns: repeat(2, minmax(0, 1fr));
    }

    .md\:flex-row {
        flex-direction: row;
    }

    .md\:justify-between {
        justify-content: space-between;
    }

    .md\:items-center {
        align-items: center;
    }

    .md\:max-w-md {
        max-width: 28rem;
    }
}

@media (min-width: 1024px) {
    .lg\:col-span-2 {
        grid-column: span 2 / span 2;
    }

    .lg\:grid-cols-3 {
        grid-template-columns: repeat(3, minmax(0, 1fr));
    }
}